<ons-page>
  <ons-toolbar>
    <div class="left"><ons-back-button>Back</ons-back-button></div>
    <div class="center">ドーナッツグラフ</div>
  </ons-toolbar>
  <p>
    <div id="graph" style="width:100%;height:250px;"></div>
  </p>
  <script>
    
    document.addEventListener('init', function(event) {
      const page = event.target;
      page.onShow = () => {
        var data = [{
          values: [16, 15, 12, 6, 5, 4, 42],
          labels: ['US', 'China', 'European Union', 'Russian Federation', 'Brazil', 'India', 'Rest of World' ],
          domain: {
            x: [0, .48]
          },
          name: 'GHG Emissions',
          hoverinfo: 'label+percent+name',
          hole: .4,
          type: 'pie'
        }];
        
        var layout = {
          title: 'Global Emissions 1990-2011',
          annotations: [
            {
              font: {
                size: 20
              },
              showarrow: false,
              text: 'GHG',
              x: 0.17,
              y: 0.5
            }
          ],
          height: 600,
          width: '100%'
        };
        
        Plotly.newPlot('graph', data, layout);
      }
    });
  </script>
</ons-page>
